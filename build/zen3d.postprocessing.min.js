!function(){var e=function(e){this.renderer=e,this.passes=[],this.renderTarget1=new zen3d.RenderTarget2D(e.width,e.height),this.renderTarget1.texture.minFilter=zen3d.WEBGL_TEXTURE_FILTER.LINEAR,this.renderTarget1.texture.magFilter=zen3d.WEBGL_TEXTURE_FILTER.LINEAR,this.renderTarget2=new zen3d.RenderTarget2D(e.width,e.height),this.renderTarget2.texture.minFilter=zen3d.WEBGL_TEXTURE_FILTER.LINEAR,this.renderTarget2.texture.magFilter=zen3d.WEBGL_TEXTURE_FILTER.LINEAR,this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2};e.prototype.swapBuffers=function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},e.prototype.resize=function(e,r){this.renderTarget1.resize(e,r),this.renderTarget2.resize(e,r)},e.prototype.addPass=function(e){this.passes.push(e)},e.prototype.render=function(e,r){for(var t=this.renderer,n=0;n<this.passes.length;n++){var s=this.passes[n];!1!==s.enabled&&(s.render(t,this.readBuffer,this.writeBuffer),s.needsSwap&&this.swapBuffers())}},zen3d.EffectComposer=e}(),function(){var e=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1};e.prototype.render=function(e,r,t){console.error("zen3d.Pass: .render() must be implemented in derived pass.")},zen3d.Pass=e}(),function(){var e=function(r,t){e.superClass.constructor.call(this),this.scene=r,this.camera=t,this.needsSwap=!1};zen3d.inherit(e,zen3d.Pass),e.prototype.render=function(e,r,t){e.render(this.scene,this.camera,this.renderToScreen?null:r,this.clear)},zen3d.RenderPass=e}(),function(){function e(e){var r={};for(var t in e){var n=e[t];Array.isArray(n)?r[t]=n.slice():r[t]=n}return r}var r=function(t,n){r.superClass.constructor.call(this),this.textureID=void 0!==n?n:"tDiffuse";var s=this.scene=new zen3d.Scene,i=this.camera=new zen3d.Camera;i.position.set(0,1,0),i.setLookAt(new zen3d.Vector3(0,0,0),new zen3d.Vector3(0,0,-1)),i.setOrtho(-1,1,-1,1,.1,2),s.add(i);var a=new zen3d.PlaneGeometry(2,2,1,1);this.uniforms=e(t.uniforms);var d=this.material=new zen3d.ShaderMaterial(t.vertexShader,t.fragmentShader,this.uniforms),h=new zen3d.Mesh(a,d);s.add(h)};zen3d.inherit(r,zen3d.Pass),r.prototype.render=function(e,r,t){this.uniforms[this.textureID]=r.texture,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)},zen3d.ShaderPass=r}();